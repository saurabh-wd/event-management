<div>
    <br />
    <h3>Manage Event</h3>
    <div [innerHTML]="message"></div>
    <form [formGroup]="eventsForm" class="needs-validation" (ngSubmit)="addEvent()" novalidate autocomplete="off">
        <div class="form-group row">
            <label for="name" class="col-sm-2 col-form-label">Event name*:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="name" id="name" formControlName="name" [ngClass]="{ 'is-invalid': (submitted && eventsForm.controls.name.invalid) ||  eventsForm.controls.name.hasError('duplicateName')}" />
                <div *ngIf="submitted && eventsForm.controls.name.hasError('required')" class="invalid-feedback">Name is required</div>
                <div *ngIf="eventsForm.controls.name.hasError('duplicateName')" class="invalid-feedback">Name already exists, use different name</div>
            </div>
        </div>
        <div class="form-group row">
            <label for="type" class="col-sm-2 col-form-label">Type*:</label>
            <div class="col-sm-10">
                <!--<input type="text" class="form-control" name="type" id="type" formControlName="type" [ngClass]="{ 'is-invalid': submitted && eventsForm.controls.type.invalid }" />-->
                <select class="form-control" name="type" id="type" formControlName="type" [ngClass]="{ 'is-invalid': submitted && eventsForm.controls.type.invalid }">
                    <option value="">Select</option>
                    <option value="1">Type1</option>
                    <option value="2">Type2</option>
                    <option value="3">Type3</option>
                    <option value="4">Type4</option>
                </select>
                <div *ngIf="submitted && eventsForm.controls.type.hasError('required')" class="invalid-feedback">Type is required</div>                
            </div>
        </div>
        <div class="form-group row">
            <label for="length" class="col-sm-2 col-form-label">Length*:</label>
            <div class="col-sm-10">
                <input type="number" class="form-control" name="length" id="length" formControlName="length" [ngClass]="{ 'is-invalid': submitted && eventsForm.controls.length.invalid }" />
                <div *ngIf="submitted && eventsForm.controls.length.hasError('required')" class="invalid-feedback">Length is required</div> 
                <div *ngIf="submitted && (eventsForm.controls.length.hasError('min') || eventsForm.controls.length.hasError('max'))" class="invalid-feedback">Length should be between 10 and 1000</div>                  
            </div>
        </div>
        
        <div class="form-group row">
            <label for="length" class="col-sm-2 col-form-label">&nbsp;</label>
            <div class="col-sm-10">
                <button type="submit" class="btn btn-primary" (click)="submitted=true;">Submit</button>
                &nbsp;
                <a routerLink="/list-events" class="btn btn-default">Cancel</a>
            </div>
            
        </div>
           
    </form>
</div>


